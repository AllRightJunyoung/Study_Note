# HTTP 헤더 에대해

- header-field =field-name : ""
  - field-name은 대소문자 구분이 없다

- HTTP 전송에 필요한 모든 부가정보가 들어있음
  - 메시지 바디 내용 ,메시지 바디크기 ,압축 ,인증 ,서버정보,캐시 관리정보, 요청클라이언트

RFC2616기준 (과거)

1. General 헤더 : 메시지 전체에 적용되는정보 (Connection:close)
2. Request 헤더 : 요청정보 (User-Agent:~~)
3. Response 헤더 : 응답정보 (Server: Apache)
4. Entity 헤더 : 엔티티 바디정보 (Content-Type:text/html,Content-Length:3000) =>메시지 내용에 들어가는것들

# HTTP 바디 (최신표준)

표현 : 표현의 메타데이터 + 표현데이터 (엔티티에서 표현으로 이름 정정)

- 메시지 본문(페이로드) 을 통해 표현 데이터를 전달한다
- 표현은 요청이나 응답에서 전달할 실제 데이터
- 표현헤더는 표현 데이터를 해석 할수있는 정보를 제공한다 (데이터 유형,길이 ,압축정보)

## 표현 헤더(Request, Response에 둘다 사용)

1. Content-Type : 표현 데이터의 형식 (text/html ,application/json , image/png)
2. Content-Encoding : 표현데이터 압축 방식 (gzip,deflate,identity) => 데이터를 받는 클라이언트에서 인코딩을하여 압축해제
3. Content-Language : 표현데이터의 자연언어 (ko,en,en-US)
4. Content-Length : 표현데이터의 길이

## 콘텐츠 네고시 에이션

- 클라이언트가 선호하는 표현 요청이다 (클라이언트가 서버에게 어떤 형식으로 데이터를 달라고 전달)
- 구체적일수록 우선순위가 높다.

1. Accpet-Language :  클라이언트가 한국어 브라우저를 사용하면 서버에 한국어 영어 페이지를 요청

- 언어별 우선순위도 정할수있음

2. Accpet :클라이언트 선호하는 미디어 타입전달
3. Accept-Encoding: 클라이언트가 선호하는 압축 인코딩
4. Accept-Charset: 클라이언트가 선호하는 문자 인코딩

## 전송방식의 종류

1. 단순 전송 : 한번에 요청하고 한번에 쭉받음
2. 압축 전송 : Content-Encoding을 서버에 붙여서 전송
3. 분할 전송 : Transfer-Encofing 헤더 :chunked , 쪼개서 보냄
4. 범위 전송 : 범위를 지정해서 클라이언트에서 byte단위로 요청 (파일을 다운로드 받다가 끊기는현상을 대비)

## From

- 유저 에이전트의 이메일 정보
  - 일반적으로 잘 사용되지 않음
  - 검색 엔진 같은곳에서 주로사용
  - 요청에서 사용

## Referer

- 이전 웹페이지 주소
  - 현재 요청된 페이지의 이전 웹 페이지 주소 알수있음
  - 유입 경로를 분석 가능하다
  - 요청에서 사용

## User-Agent

- 어떤 종류의 브라우저에서 장애가 발생하는지 파악 가능
- 클라이언트 애플리케이션 정보 (웹 브라우저 정보)
- 요청에서 사용

## Server

- 요청을 처리하는 ORIGIN 서버의 소프트웨어 정보

## Date

- 날짜정보

# 특별한 정보 (헤더)

## Host (무조건 넣어줘야함 => 필수)

- 요청한 호스트 정보 (도메인)
- Request에서 사용
- 하나의 서버가 여러 도메인을 처리해야할떄 사용 ,하나의 IP주소에 여러 도메인적용시 => 가상호스트

## Location (페이지 리다이렉션)

- 웹브라우저는 3xx 응답결과에 Location헤더가 존재하면 자동으로 그 위치로 이동
- Location 값은 요청을 자동으로 리다이렉션 하기 위한 대상 리소스를 가리킴

## Allow (잘 사용안함)

- 허용 가능한 HTTP 메소드
- 405에서 응답에 포함해야됨 Allow : GET ,HEAD,PUT

## Retry-Afer

- 유저 에이전트가 다음 요청하기까지 기다려야하는 시간을 보여줌 (날짜, 초단위로표기)
  - 503: 서비스가 언제까지 불능인지 알려줌

## 인증

- Autorization: 클라이언트 인증 정보를 서버에 전달
- WWW-Authenticate : 리소스 접근시 필요한 인증방법 정의 (서버에서 클라이언트로 401 Unauthorized와 함께 반환)
