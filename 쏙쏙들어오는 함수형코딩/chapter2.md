# 현실에서의 함수형 사고 part
> 함수형 프로그래밍에서는 계층화설계와 일급추상으로 나눠진다.
## 피자가게로 액션 계산 데이터를 둔 예시 

1. 액션 : 호출횟수와 호출시점에 의존 (반죽펴기,피자배달,재료 주문)
2. 계산 : 어떤것을 결정하거나 계획 (조리법에 나온것을 두배로 ,쇼핑 목록 결정)
3. 데이터 : (고객주문,영수증,조리법)

## 변경 가능성에 따라 코드를 나눠라 
- 계층화 설계란 ?
  - 함수형 프로그래밍에서 사용하는 설계방식이다
  - 각 계층은 하위요소에 영향을 받고 하위요소에 의해 상위요소가 결정됨 
  - 계층화 설계가 제대로 되면 테스트 재사용 유지보수가 쉬워진다.

- 계층화 설계의 예시
- 가장 변경되기 쉬운 효소는 가장위로 , 아래로 내려갈수록 변경이 안되는 요소를 두기 
예시
  1. 이번 주 메뉴 (이번주 특별 메뉴를 위한 조리법) => 비즈니스 규칙
  2. 피자 만들기 (조리법순서) => 도메인 규칙
  3 객체 배열 (기술스택)
> 계층화 설계는 비즈니스 로직 , 도메인 규칙 , 기술스택 계층으로 나눠진다. (아래로 내려갈수록 의존성이 많아서 자주 바뀔수없다.)


# 일급 추상 하기 (타임라인 다이어그램 이용)
> 타임라인 다이어그램 이란?
  - 시간에 따라 변하는 액션을 시각화 하는 방법
1. 타임라인 다이어그램을 그려서 각단계에서 다음 단계에 할일들을 볼수있음
   - 액션이 시간 순서에 따라 어떻게 실행되는지 볼수있음
2. 타임 라인 다이어그램을 통해 시스템의 문제를 쉽게 파악가능

## 타임라인 다이어그램 예시 
1. 주문접수
2. 반죽만들기
3. 반죽펴기
4. 소스만들기
5. 소스뿌리기
6. 치즈갈기
7. 치즈 뿌리기
8. 오븐에 넣기
9. 10분 기다리기
10. 서빙

## 분산시스템에서의 타임 라인
- 타임라인은 함수형 프로그래밍에서 자주 사용된다 . 그런데 분산시스템에서 함수형 프로그래밍이 잘 사용이 된다고 앞전에 예시에서 본 기억이있음 
  > 하지만 분산시스템에서 타임라인은 예측 불가능한 순서대로 실행 될수 없다 !
  - 대안점
    - 타임라인 커팅이라는 기술을 통해 액션이 올바른 순서대로 실행되게 보장할수 있다 (보통 고차 동작으로 구현한다) 
      - 17장에서 자세히 볼꺼지만 타임라인은 사실 독립적으로 동작하고 작업이 완료되면 다른 타임라인이 끝나기를 기다리면 되기 떄문에 어떤 타임라인이 먼저 끝나도 괜찮다 !
      > 커팅은 타임 라인의 시간을 맞추는 방법이라고도 부른다.