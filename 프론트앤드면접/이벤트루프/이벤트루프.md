# 자바스크립트 싱글스레드의 단점이 뭘까?

- 자바스크립트는 메인스레드에서 동작한다.
- 콜스택이 한개가 존재하여 , 한번에 한가지일만 할수있다
  - 만약에 콜스택에 30초동안 진행되는 작업이 쌓인다면 메인스레드가 멈추어 브라우저 UI가 멈춘다.
    - 브라우저는 다행이도 자바스크립트에서 제공하지않은 웹 API를 제공하여 웹 API는 비동기적인 작업인 setTimeout,HTTP,requests을 수행하여 non-blocking 동작을 수행할수있게된다.

# 브라우저에서 비동기적인 함수 동작방식

- dom addEventListner, setTimeout ,ajax 같은 비동기작업에서 동작
  - 일반적인 함수들은 콜스택 영역에서 동작하지만 비동기작업은 아래와같은 방식으로 동작
    - 코드를 콜스택에 넣음
    - 코드에 비동기 작업이 포함되면 Web APIS로 보낸다.
    - Web APIS에서 해당 코드를 실행시킨다
    - 이벤트루프를 통해 Task queue에 해당 비동기코드를 보낸다
    - **이벤트루프는 콜스택에 아무것도 들어있지않을때 Task queue에서 비동기코드를 꺼내 콜스택에 넣음**
    - 콜스택에서 실행함
- 콜스택에 작업이 쌓여있으면 브라우저는 렌더링을하지않음
