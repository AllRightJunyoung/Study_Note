## 브라우저 구성요소

1. User Interface : 주소표시줄 , 이전 ,이후 버튼 , 홈버튼 북마크 버튼 등 페이지외 모든영역
2. 브라우저 프로세스 : 사용자 UI와 렌더링 프로세스 사이 동작제어 (UI스레드,네트워크스레드,스토리지 스레드)
3. 렌더링 프로세스 : 탭안에있는 웹 사이트가 표시되는 영역을 모두 제어
   - Networking : HTTP/HTTPS 네트워크 요청 처리
   - Javascript interpreter : 자바스크립트 코드파싱
   - Ui backend : 기본 위젯 그릴떄 사용
4. 데이터 저장소: 쿠키나 , 로컬스토리지 등이 저장

## 브라우저 렌더링 과정 상세

1. 사용자가 URL 입력 할경우 브라우저 프로세스에 있는 UI스레드가 검색어인지 URL인지확인
2. 검색어 일경우 검색엔진 URL에 검색어를 결합해 페이지를 이동 , URL일경우 페이지를 이동시켜 네트워크 호출 수행후 네트워크 스레드는 작업 수행
3. 응답이 도착하면 HTML이면 렌더러 프로세스에 전달 , 다운로드파일이면 다운로드 매니저에게 데이터 전달 (악성파일인지 네트워크 스레드가 확인)
4. 렌더러 프로세스는 HTML 데이터를 수신하여 문서를 로딩하고 UI를 갱신
   > 렌더러 프로세스가 브라우저 렌더링 과정

## 브라우저 렌더링 과정

1. url 접속
2. dns는 브라우저에서 요청한 url에 맞는 아이피를 제공
3. 브라우저는 IP주소와 TCP를하고 서버는 브라우저에게 데이터제공
   > 위에 부분은 통신부분
4. 브라우저는 HTML을 파싱하여 DOM TREE생성
5. 렌더링 엔진은 스타일 태그를 만나면 DOM TREE 생성을 중단하고 서버로부터 css파일을 받고 CSSOM Tree생성
6. CSS Parsing을 마치면 HTML 파싱이 중단된 지점부터 다시 파싱시작
7. 스크립트 태그 만나면 다시 HTML파싱을 중단하고 스크립트 태그에 정의된 js파일을 서버로부터 받고 다운로드시작
8. 다운로드 완료후 자바스크립트엔진은 코드를 해석하여 AST를만들고 AST기반으로 바이트코드를 생성하여 실행
9. HTML 파싱이 중단된 지점부터 파싱을 완료후 DOM트리 생성
10. DOM TREE + CSSOM TREE를 합쳐서 렌더트리가 생성 (1)
11. 렌더링엔진은 렌더트리 기반으로 뷰포트내의 상대적인 위치를 찾고 렌더트리에 반영 (Layout)
12. Layout단계에서 반영된 렌더트리를 기반으로 레이어를 만들고 레이어의 배경 테두리 텍스트 그려지는 순서 레이어간의 순서등을 기록 (Paint)
13. Paint과정에서 모든 정보를 파악했으므로 각레이어를 분리하고 픽셀화를 한뒤 페이지 크기 뷰포트에 맞게 합성후 화면으로 나타냄 (Composite)

# 렌더트리에 포함되지않은요소

1. display :none
2. head ,title script태그
   > DOM에 레이아웃 공간을 차지하고 있지않으므로
